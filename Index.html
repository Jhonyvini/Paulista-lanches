<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vov칩 Regina Delivery</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Oswald:wght@500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            red: '#E30613',       // Vermelho mais vivo (Logo Vov칩 Regina)
                            yellow: '#FFED00',    // Amarelo intenso (Logo Vov칩 Regina)
                            dark: '#1F2937',      
                            light: '#F3F4F6'      
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Oswald', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Otimiza칞칫es Mobile */
        body { -webkit-tap-highlight-color: transparent; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Anima칞칫es */
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .modal-enter { animation: slideUp 0.3s ease-out forwards; }
        
        .tab-active { color: #E30613; } 
        .tab-inactive { color: #9CA3AF; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans h-screen h-[100dvh] flex flex-col overflow-hidden">

    <script>
        const CONFIG = {
            STORE_NAME: "Vov칩 Regina",    
            PHONE_NUMBER: "5531986172845",  // WhatsApp da imagem
            DELIVERY_FEE: 0.00            // Taxa a combinar ou fixa (edite se necess치rio)
        };
    </script>

    <header class="bg-brand-red text-white shadow-md z-20 flex-none">
        <div class="px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="bg-white p-1.5 rounded-full">
                    <i data-lucide="chef-hat" class="text-brand-red w-5 h-5"></i>
                </div>
                <h1 class="font-display text-xl font-bold tracking-wide italic">Vov칩 Regina</h1>
            </div>
            <div id="header-cart-info" class="text-xs font-semibold bg-brand-yellow text-brand-dark px-2 py-1 rounded-full hidden">
                R$ <span id="header-total">0,00</span>
            </div>
        </div>
    </header>

    <main id="app-content" class="flex-1 overflow-y-auto hide-scrollbar pb-32 relative scroll-smooth">
        </main>

    <div id="variant-modal" class="fixed inset-0 bg-black/50 z-50 hidden flex items-end justify-center backdrop-blur-sm">
        <div class="bg-white w-full rounded-t-2xl p-6 shadow-2xl modal-enter max-w-md mx-auto">
            <div class="flex justify-between items-start mb-4">
                <div>
                    <h3 id="modal-variant-title" class="text-xl font-display font-bold text-brand-dark">Nome do Produto</h3>
                    <p class="text-gray-500 text-sm">Escolha a op칞칚o desejada</p>
                </div>
                <button onclick="closeModal()" class="p-1 bg-gray-100 rounded-full hover:bg-gray-200">
                    <i data-lucide="x" class="w-5 h-5 text-gray-600"></i>
                </button>
            </div>

            <div class="space-y-3 mb-6">
                <label class="flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-brand-red hover:bg-red-50 transition-all group" onclick="selectSize('M')">
                    <div class="flex items-center gap-3">
                        <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center group-hover:border-brand-red" id="radio-M">
                            <div class="w-2.5 h-2.5 bg-brand-red rounded-full hidden" id="dot-M"></div>
                        </div>
                        <span class="font-semibold text-gray-700" id="label-M">Op칞칚o 1</span>
                    </div>
                    <span class="font-bold text-brand-red" id="price-M">R$ 00,00</span>
                </label>

                <label class="flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-brand-red hover:bg-red-50 transition-all group" onclick="selectSize('G')">
                    <div class="flex items-center gap-3">
                        <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center group-hover:border-brand-red" id="radio-G">
                            <div class="w-2.5 h-2.5 bg-brand-red rounded-full hidden" id="dot-G"></div>
                        </div>
                        <span class="font-semibold text-gray-700" id="label-G">Op칞칚o 2</span>
                    </div>
                    <span class="font-bold text-brand-red" id="price-G">R$ 00,00</span>
                </label>
            </div>

            <button onclick="confirmVariantAdd()" class="w-full bg-brand-red text-white py-3.5 rounded-xl font-bold text-lg shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-2">
                Adicionar ao Pedido <i data-lucide="plus-circle" class="w-5 h-5"></i>
            </button>
        </div>
    </div>

    <div id="toast" class="fixed top-4 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-xl z-50 flex items-center gap-2 transition-opacity opacity-0 pointer-events-none">
        <i data-lucide="check-circle" class="w-4 h-4 text-green-400"></i>
        <span class="text-sm font-medium">Item adicionado!</span>
    </div>

    <nav class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 flex justify-around items-center py-2 px-2 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-40">
        <button onclick="switchTab('menu')" class="flex flex-col items-center gap-1 p-2 w-1/3 transition-colors tab-active" id="nav-menu">
            <i data-lucide="book-open" class="w-6 h-6"></i>
            <span class="text-xs font-medium">Card치pio</span>
        </button>
        
        <button onclick="switchTab('cart')" class="flex flex-col items-center gap-1 p-2 w-1/3 transition-colors tab-inactive relative" id="nav-cart">
            <div class="relative">
                <i data-lucide="shopping-bag" class="w-6 h-6"></i>
                <span id="badge-count" class="absolute -top-1.5 -right-1.5 bg-brand-red text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full opacity-0 transition-opacity">0</span>
            </div>
            <span class="text-xs font-medium">Carrinho</span>
        </button>
        
        <button onclick="switchTab('about')" class="flex flex-col items-center gap-1 p-2 w-1/3 transition-colors tab-inactive" id="nav-about">
            <i data-lucide="store" class="w-6 h-6"></i>
            <span class="text-xs font-medium">Sobre</span>
        </button>
    </nav>

    <script>
        // [CONFIG] CARD츼PIO VOV칍 REGINA (DADOS EXTRA칈DOS DAS IMAGENS)
        const menuData = [
            {
                category: "Kits Festa",
                icon: "party-popper",
                isVariant: true,
                variantLabelM: "10 Pessoas",
                variantLabelG: "15 Pessoas",
                items: [
                    { 
                        id: 100, 
                        name: "Kit Festa Premium", 
                        priceM: 220.00,  // 10 Pessoas
                        priceG: 274.00,  // 15 Pessoas
                        desc: "M: 1 Bolo, 100 Salgados, 50 Doces, 2 Refri 2L | G: 1 Bolo, 150 Salgados, 50 Doces, 2 Refri 2L", 
                        image: "" 
                    }
                ]
            },
            {
                category: "Kit Econ칪mico",
                icon: "piggy-bank",
                items: [
                    { 
                        id: 101, 
                        name: "Kit Festa Econ칪mico (10 Pessoas)", 
                        price: 195.00, 
                        desc: "1 Bolo, 100 Salgados, 50 Mini Churros, 2 Refri 2L.", 
                        image: "" 
                    }
                ]
            },
            {
                category: "Salgados (Cento)",
                icon: "utensils",
                isVariant: true,
                variantLabelM: "50 Unidades",
                variantLabelG: "100 Unidades",
                items: [
                    { id: 201, name: "Coxinha", priceM: 28.00, priceG: 49.90, desc: "A cl치ssica coxinha de frango.", image: "" },
                    { id: 202, name: "Quibe", priceM: 28.00, priceG: 49.90, desc: "Quibe frito tradicional.", image: "" },
                    { id: 203, name: "Risole de Milho", priceM: 28.00, priceG: 49.90, desc: "Risole cremoso de milho.", image: "" },
                    { id: 204, name: "Bolinha Napolitana", priceM: 28.00, priceG: 49.90, desc: "Presunto e mussarela.", image: "" },
                    { id: 205, name: "Enrolado de Salsicha", priceM: 28.00, priceG: 49.90, desc: "Salsicha empanada.", image: "" },
                    { id: 206, name: "Croquete Calabresa", priceM: 28.00, priceG: 49.90, desc: "Calabresa apimentada.", image: "" },
                    { id: 207, name: "Risole de Calabresa", priceM: 28.00, priceG: 49.90, desc: "Recheio de calabresa.", image: "" },
                    { id: 208, name: "Mini Churros", priceM: 28.00, priceG: 49.90, desc: "Churros de doce de leite.", image: "" },
                    // Item com pre칞o diferenciado
                    { id: 209, name: "Bolinha de Queijo", priceM: 32.00, priceG: 59.90, desc: "Deliciosa bolinha de queijo.", image: "" }
                ]
            },
            {
                category: "Combos Salgados + Bebida",
                icon: "star",
                items: [
                    { id: 301, name: "50 Salgados + A칞a칤 300ml", price: 39.00, desc: "Combo individual ou para dois.", image: "" },
                    { id: 302, name: "50 Salgados + Coca-Cola 2L", price: 45.00, desc: "O cl치ssico para o lanche.", image: "" },
                    { id: 303, name: "50 Salgados + 50 Mini Churros", price: 65.00, desc: "Salgado e sobremesa.", image: "" },
                    { id: 304, name: "100 Salgados + A칞a칤 600ml", price: 75.00, desc: "Para compartilhar.", image: "" },
                    { id: 305, name: "100 Salgados + Coca-Cola 2L", price: 73.00, desc: "Ideal para pequenas reuni칫es.", image: "" },
                    { id: 306, name: "75 Salg. + 25 Churros + Coca 2L", price: 78.00, desc: "Combo variado.", image: "" },
                    { id: 307, name: "100 Salg. + 25 Churros + Coca 2L", price: 89.00, desc: "Combo completo.", image: "" },
                    { id: 308, name: "150 Salgados + Coca-Cola 2L", price: 105.00, desc: "Para a galera toda.", image: "" }
                ]
            },
            {
                category: "Lanchonete",
                icon: "sandwich",
                items: [
                    { id: 401, name: "Hamb칰rg칚o Cheddar", price: 9.90, desc: "Carne, calabresa e cheddar.", image: "" },
                    { id: 402, name: "Empada Frango c/ Catupiry", price: 9.90, desc: "Empada grande.", image: "" },
                    { id: 403, name: "Empada Frango c/ Azeitona", price: 9.90, desc: "Empada grande.", image: "" },
                    { id: 404, name: "Cachorro Quente Assado", price: 9.90, desc: "2 salsichas, calabresa e mussarela.", image: "" },
                    { id: 405, name: "Kit 04 Hamb칰rg칚o", price: 35.00, desc: "Promo칞칚o 4 unidades.", image: "" }
                ]
            },
            {
                category: "Bebidas & A칞a칤",
                icon: "cup-soda",
                items: [
                    { id: 501, name: "Creme de A칞a칤 380ml", price: 12.00, desc: "Tradicional.", image: "" },
                    { id: 502, name: "Coca-Cola 2L", price: 18.00, desc: "Garrafa.", image: "" },
                    { id: 503, name: "Guaran치 Ant치rctica 2L", price: 13.00, desc: "Garrafa.", image: "" },
                    { id: 504, name: "Guaran치/Pepsi 200ml", price: 3.80, desc: "Pequeno.", image: "" }
                ]
            }
        ];

        // --- ESTADO ---
        let cart = [];
        let tempVariantSelection = null; 

        // --- UTILIT츼RIOS ---
        const formatMoney = (val) => val.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

        // --- FUN칂칏ES DE LAYOUT ---
        function handleImgError(img, iconName) {
            const parent = img.parentElement;
            parent.innerHTML = `
                <div class="w-full h-full bg-gray-100 rounded-lg flex items-center justify-center text-gray-300">
                    <i data-lucide="${iconName}" class="w-8 h-8"></i>
                </div>
            `;
            lucide.createIcons();
        }

        function init() {
            renderMenu();
            lucide.createIcons();
        }

        function renderMenu() {
            const container = document.getElementById('app-content');
            let html = `
                <div class="bg-brand-yellow/20 p-4 mb-2">
                    <div class="bg-brand-red rounded-xl p-4 text-white shadow-lg flex items-center justify-between">
                        <div>
                            <h2 class="font-display font-bold text-xl">VOV칍 REGINA</h2>
                            <p class="text-xs opacity-90">Salgados e Churros deliciosos!</p>
                        </div>
                        <i data-lucide="party-popper" class="w-8 h-8 text-brand-yellow animate-pulse"></i>
                    </div>
                </div>
                
                <div class="sticky top-0 bg-gray-50 z-10 py-2 pl-4 overflow-x-auto whitespace-nowrap hide-scrollbar border-b border-gray-200/50 mb-4">
                    ${menuData.map(cat => `
                        <a href="#cat-${cat.category.replace(/\s+/g, '-')}" class="inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full border border-gray-200 shadow-sm mr-2 text-sm font-semibold text-gray-700 hover:border-brand-red hover:text-brand-red transition-colors">
                            <i data-lucide="${cat.icon}" class="w-4 h-4"></i>
                            ${cat.category}
                        </a>
                    `).join('')}
                </div>
            `;

            menuData.forEach(cat => {
                html += `
                    <div id="cat-${cat.category.replace(/\s+/g, '-')}" class="px-4 mb-8 scroll-mt-32">
                        <h2 class="text-lg font-display font-bold text-brand-dark mb-3 border-l-4 border-brand-red pl-3 flex items-center gap-2">
                            ${cat.category}
                        </h2>
                        <div class="grid gap-4">
                `;

                cat.items.forEach(item => {
                    const isVariant = cat.isVariant;
                    const priceDisplay = isVariant 
                        ? `<span class="text-xs text-gray-500">A partir de</span> <span class="font-bold text-brand-red">${formatMoney(item.priceM)}</span>`
                        : `<span class="font-bold text-brand-red">${formatMoney(item.price)}</span>`;

                    const actionBtn = isVariant
                        ? `onclick="openVariantModal(${JSON.stringify(item).replace(/"/g, '&quot;')}, '${cat.variantLabelM || 'Padr칚o'}', '${cat.variantLabelG || 'Grande'}')"`
                        : `onclick="addToCart(${item.id}, '${item.name}', ${item.price})"`;

                    let mediaHtml;
                    if (item.image && item.image !== "") {
                        mediaHtml = `
                            <div class="w-20 h-20 flex-none relative">
                                <img src="${item.image}" alt="${item.name}" class="w-full h-full rounded-lg object-cover bg-gray-100 shadow-sm" onerror="handleImgError(this, '${cat.icon}')">
                            </div>`;
                    } else {
                        mediaHtml = `
                            <div class="w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center flex-none text-gray-300">
                                <i data-lucide="${cat.icon}" class="w-8 h-8"></i>
                            </div>`;
                    }

                    html += `
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4 items-center overflow-hidden">
                            ${mediaHtml}
                            <div class="flex-1 min-w-0">
                                <h3 class="font-bold text-gray-800 truncate">${item.name}</h3>
                                <p class="text-xs text-gray-500 line-clamp-2 mb-2 leading-relaxed">${item.desc}</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex flex-col">
                                        ${priceDisplay}
                                    </div>
                                    <button ${actionBtn} class="bg-brand-red/10 text-brand-red hover:bg-brand-red hover:text-white p-2 rounded-full transition-colors active:scale-95">
                                        <i data-lucide="plus" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                });

                html += `</div></div>`;
            });
            
            html += `<div class="h-8"></div>`; 
            container.innerHTML = html;
            lucide.createIcons();
        }

        function renderCart() {
            const container = document.getElementById('app-content');
            
            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="h-full flex flex-col items-center justify-center p-8 text-center animate-pulse">
                        <div class="bg-gray-200 p-6 rounded-full mb-4">
                            <i data-lucide="shopping-cart" class="w-12 h-12 text-gray-400"></i>
                        </div>
                        <h2 class="text-xl font-bold text-gray-700 mb-2">Seu carrinho est치 vazio</h2>
                        <p class="text-gray-500 mb-6">Bora pedir uns salgados?</p>
                        <button onclick="switchTab('menu')" class="bg-brand-red text-white px-8 py-3 rounded-full font-bold shadow-lg">Ver Card치pio</button>
                    </div>
                `;
                lucide.createIcons();
                updateHeaderTotal();
                return;
            }

            const subtotal = cart.reduce((acc, item) => acc + (item.price * item.quantity), 0);
            const total = subtotal + CONFIG.DELIVERY_FEE;

            let html = `
                <div class="p-4 pb-24">
                    <h2 class="text-2xl font-display font-bold mb-6 text-brand-dark">Seu Pedido</h2>
                    
                    <div class="space-y-4 mb-8">
                        ${cart.map((item, index) => `
                            <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between">
                                <div>
                                    <h3 class="font-bold text-gray-800">${item.name} ${item.size ? `<span class="text-xs bg-gray-200 px-1.5 rounded ml-1 text-gray-600">${item.size}</span>` : ''}</h3>
                                    <p class="text-brand-red font-bold text-sm">${formatMoney(item.price)}</p>
                                </div>
                                <div class="flex items-center bg-gray-50 rounded-lg p-1">
                                    <button onclick="updateQty(${index}, -1)" class="w-8 h-8 flex items-center justify-center text-brand-red hover:bg-white rounded-md transition-colors font-bold">-</button>
                                    <span class="w-8 text-center text-sm font-bold">${item.quantity}</span>
                                    <button onclick="updateQty(${index}, 1)" class="w-8 h-8 flex items-center justify-center text-green-600 hover:bg-white rounded-md transition-colors font-bold">+</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100 mb-6">
                        <div class="flex justify-between mb-2 text-sm text-gray-600">
                            <span>Subtotal</span>
                            <span>${formatMoney(subtotal)}</span>
                        </div>
                        <div class="flex justify-between mb-4 text-sm text-gray-600">
                            <span>Taxa de Entrega</span>
                            <span>${formatMoney(CONFIG.DELIVERY_FEE)}</span>
                        </div>
                        <div class="border-t pt-3 flex justify-between items-center">
                            <span class="font-bold text-lg text-gray-800">Total</span>
                            <span class="font-bold text-xl text-brand-red">${formatMoney(total)}</span>
                        </div>
                    </div>

                    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                        <h3 class="font-bold mb-4 flex items-center gap-2"><i data-lucide="map-pin" class="w-4 h-4 text-brand-red"></i> Endere칞o de Entrega</h3>
                        <div class="space-y-3">
                            <input type="text" id="input-name" oninput="checkForm()" placeholder="Seu Nome" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:outline-none focus:border-brand-yellow focus:ring-1 focus:ring-brand-yellow">
                            <div class="grid grid-cols-3 gap-3">
                                <input type="text" id="input-street" oninput="checkForm()" placeholder="Rua / Av." class="col-span-2 w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:outline-none focus:border-brand-yellow">
                                <input type="number" id="input-number" oninput="checkForm()" placeholder="N췈" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:outline-none focus:border-brand-yellow">
                            </div>
                            <input type="text" id="input-complement" oninput="checkForm()" placeholder="Bairro / Complemento" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:outline-none focus:border-brand-yellow">
                        </div>

                        <div class="mt-6">
                            <h3 class="font-bold mb-3 flex items-center gap-2"><i data-lucide="credit-card" class="w-4 h-4 text-brand-red"></i> Forma de Pagamento</h3>
                            <div class="grid grid-cols-3 gap-2">
                                <label class="cursor-pointer">
                                    <input type="radio" name="payment" value="Dinheiro" class="hidden peer" onchange="checkForm()">
                                    <div class="border border-gray-200 bg-gray-50 rounded-lg p-3 text-center text-xs font-bold text-gray-600 peer-checked:bg-brand-red peer-checked:text-white peer-checked:border-brand-red transition-all">游눳 Dinheiro</div>
                                </label>
                                <label class="cursor-pointer">
                                    <input type="radio" name="payment" value="Pix" class="hidden peer" onchange="checkForm()">
                                    <div class="border border-gray-200 bg-gray-50 rounded-lg p-3 text-center text-xs font-bold text-gray-600 peer-checked:bg-brand-red peer-checked:text-white peer-checked:border-brand-red transition-all">游 Pix</div>
                                </label>
                                <label class="cursor-pointer">
                                    <input type="radio" name="payment" value="Cart칚o" class="hidden peer" onchange="checkForm()">
                                    <div class="border border-gray-200 bg-gray-50 rounded-lg p-3 text-center text-xs font-bold text-gray-600 peer-checked:bg-brand-red peer-checked:text-white peer-checked:border-brand-red transition-all">游눱 Cart칚o</div>
                                </label>
                            </div>
                        </div>

                        <button id="btn-checkout" onclick="checkout()" disabled class="w-full mt-6 bg-gray-300 text-gray-500 py-4 rounded-xl font-bold text-lg shadow-none cursor-not-allowed transition-all flex items-center justify-center gap-2">
                            Preencha para Finalizar
                        </button>
                    </div>
                </div>
            `;
            container.innerHTML = html;
            lucide.createIcons();
            updateHeaderTotal();
        }

        function renderAbout() {
            const container = document.getElementById('app-content');
            const SEU_ZAP_DEV = "5531993343405"; 

            container.innerHTML = `
                <div class="p-6">
                    <div class="flex flex-col items-center mb-8">
                        <div class="bg-brand-red text-white p-4 rounded-full mb-4 shadow-lg">
                            <i data-lucide="chef-hat" class="w-10 h-10"></i>
                        </div>
                        <h2 class="text-2xl font-display font-bold">${CONFIG.STORE_NAME}</h2>
                        <p class="text-gray-500 text-center mt-2">Rua Ilha de Malta, 383 - S칚o Gabriel</p>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-6">
                        <div class="bg-brand-dark text-white p-3 text-sm font-bold flex items-center gap-2">
                            <i data-lucide="clock" class="w-4 h-4"></i> Hor치rio de Funcionamento
                        </div>
                        <div class="p-4 text-sm space-y-2 text-gray-600 text-center">
                            <p class="flex justify-between border-b pb-2"><span>Seg - Sex:</span> <b>08:00 - 19:00</b></p>
                            <p class="flex justify-between border-b pb-2"><span>S치bado:</span> <b>15:30 - 19:00</b></p>
                            <p class="flex justify-between"><span>Domingo:</span> <b class="text-red-500">Fechado</b></p>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-8">
                         <div class="bg-brand-red text-white p-3 text-sm font-bold flex items-center gap-2">
                            <i data-lucide="phone" class="w-4 h-4"></i> Contato
                        </div>
                        <div class="p-4 text-center">
                            <a href="https://wa.me/${CONFIG.PHONE_NUMBER}" class="inline-flex items-center gap-2 text-brand-red font-bold border border-brand-red px-4 py-2 rounded-full hover:bg-brand-red hover:text-white transition-colors">
                                <i data-lucide="message-circle" class="w-4 h-4"></i> Falar no WhatsApp
                            </a>
                        </div>
                    </div>

                    <div class="border-t border-gray-200 pt-6 pb-4 text-center">
                        <p class="text-[10px] text-gray-400 uppercase tracking-widest font-bold mb-2">Tecnologia</p>
                        <a href="https://wa.me/${SEU_ZAP_DEV}?text=Oi!%20Gostaria%20de%20saber%20mais%20sobre%20o%20sistema%20de%20pedidos." 
                           class="inline-flex items-center gap-1.5 text-xs font-bold text-gray-300 hover:text-brand-red transition-colors group">
                            <i data-lucide="code-2" class="w-3 h-3 group-hover:scale-110 transition-transform"></i> 
                            Desenvolvido por Jhony Web Sites
                        </a>
                    </div>
                </div>
            `;
            lucide.createIcons();
        }

        function addToCart(id, name, price, size = null) {
            const cartId = size ? `${id}-${size}` : `${id}`;
            const existingItem = cart.find(item => item.cartId === cartId);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ cartId, id, name, price, size, quantity: 1 });
            }
            showToast();
            updateBadge();
            updateHeaderTotal();
        }

        function updateQty(index, change) {
            cart[index].quantity += change;
            if (cart[index].quantity <= 0) cart.splice(index, 1);
            renderCart(); 
            updateBadge();
            updateHeaderTotal();
        }

        function updateBadge() {
            const count = cart.reduce((acc, item) => acc + item.quantity, 0);
            const badge = document.getElementById('badge-count');
            badge.innerText = count;
            badge.style.opacity = count > 0 ? '1' : '0';
        }

        function updateHeaderTotal() {
            const total = cart.reduce((acc, item) => acc + (item.price * item.quantity), 0);
            const headerInfo = document.getElementById('header-cart-info');
            const headerTotal = document.getElementById('header-total');
            headerTotal.innerText = total.toLocaleString('pt-BR', { minimumFractionDigits: 2 });
            if (total > 0) headerInfo.classList.remove('hidden');
            else headerInfo.classList.add('hidden');
        }

        // --- L칍GICA DE VARIA칂츾O (MODAL) ---
        let currentLabelM = 'Op칞칚o 1';
        let currentLabelG = 'Op칞칚o 2';

        function openVariantModal(item, labelM = 'Op칞칚o 1', labelG = 'Op칞칚o 2') {
            tempVariantSelection = item;
            currentLabelM = labelM;
            currentLabelG = labelG;

            document.getElementById('modal-variant-title').innerText = item.name;
            
            // Labels Din칙micas
            document.getElementById('label-M').innerText = labelM;
            document.getElementById('label-G').innerText = labelG;

            // Reset UI
            document.getElementById('radio-M').classList.replace('border-brand-red', 'border-gray-300');
            document.getElementById('radio-G').classList.replace('border-brand-red', 'border-gray-300');
            document.getElementById('dot-M').classList.add('hidden');
            document.getElementById('dot-G').classList.add('hidden');
            document.getElementById('price-M').innerText = formatMoney(item.priceM);
            document.getElementById('price-G').innerText = formatMoney(item.priceG);
            
            selectSize('M'); // Padr칚o
            document.getElementById('variant-modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('variant-modal').classList.add('hidden');
            tempVariantSelection = null;
        }

        let selectedSizeCode = null;
        function selectSize(size) {
            selectedSizeCode = size;
            const sizes = ['M', 'G'];
            sizes.forEach(s => {
                const radio = document.getElementById(`radio-${s}`);
                const dot = document.getElementById(`dot-${s}`);
                const parent = radio.parentElement.parentElement;
                if (s === size) {
                    radio.classList.replace('border-gray-300', 'border-brand-red');
                    dot.classList.remove('hidden');
                    parent.classList.add('border-brand-red', 'bg-red-50');
                    parent.classList.remove('border-gray-200');
                } else {
                    radio.classList.replace('border-brand-red', 'border-gray-300');
                    dot.classList.add('hidden');
                    parent.classList.remove('border-brand-red', 'bg-red-50');
                    parent.classList.add('border-gray-200');
                }
            });
        }

        function confirmVariantAdd() {
            if (!tempVariantSelection || !selectedSizeCode) return;
            const price = selectedSizeCode === 'M' ? tempVariantSelection.priceM : tempVariantSelection.priceG;
            const sizeLabel = selectedSizeCode === 'M' ? currentLabelM : currentLabelG;
            addToCart(tempVariantSelection.id, tempVariantSelection.name, price, sizeLabel);
            closeModal();
        }

        function checkForm() {
            const name = document.getElementById('input-name').value.trim();
            const street = document.getElementById('input-street').value.trim();
            const number = document.getElementById('input-number').value.trim();
            const complement = document.getElementById('input-complement').value.trim();
            const payment = document.querySelector('input[name="payment"]:checked');
            const btn = document.getElementById('btn-checkout');

            if (name && street && number && complement && payment) {
                btn.disabled = false;
                btn.classList.remove('bg-gray-300', 'text-gray-500', 'shadow-none', 'cursor-not-allowed');
                btn.classList.add('bg-green-500', 'text-white', 'shadow-lg', 'active:scale-95', 'hover:bg-green-600');
                btn.innerHTML = `Finalizar no WhatsApp <i data-lucide="message-circle" class="w-5 h-5"></i>`;
                lucide.createIcons();
            } else {
                btn.disabled = true;
                btn.classList.add('bg-gray-300', 'text-gray-500', 'shadow-none', 'cursor-not-allowed');
                btn.classList.remove('bg-green-500', 'text-white', 'shadow-lg', 'active:scale-95', 'hover:bg-green-600');
                btn.innerHTML = `Preencha para Finalizar`;
            }
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.style.opacity = '1';
            toast.style.transform = 'translate(-50%, 0)';
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translate(-50%, -10px)';
            }, 2000);
        }

        function switchTab(tabName) {
            const tabs = ['menu', 'cart', 'about'];
            tabs.forEach(t => {
                const el = document.getElementById(`nav-${t}`);
                if (t === tabName) {
                    el.classList.add('tab-active');
                    el.classList.remove('tab-inactive');
                } else {
                    el.classList.add('tab-inactive');
                    el.classList.remove('tab-active');
                }
            });
            document.getElementById('app-content').scrollTop = 0;
            if (tabName === 'menu') renderMenu();
            if (tabName === 'cart') renderCart();
            if (tabName === 'about') renderAbout();
        }

        function checkout() {
            const name = document.getElementById('input-name').value.trim();
            const street = document.getElementById('input-street').value.trim();
            const number = document.getElementById('input-number').value.trim();
            const complement = document.getElementById('input-complement').value.trim();
            const payment = document.querySelector('input[name="payment"]:checked');

            if (!name || !street || !number || !complement || !payment) return;

            let msg = `*NOVO PEDIDO - ${CONFIG.STORE_NAME}*\n--------------------------------\n`;
            msg += `游녻 *Cliente:* ${name}\n\n游 *ITENS:*\n`;
            cart.forEach(item => {
                msg += `${item.quantity}x ${item.name} ${item.size ? `(${item.size})` : ''} - ${formatMoney(item.price * item.quantity)}\n`;
            });

            const subtotal = cart.reduce((acc, item) => acc + (item.price * item.quantity), 0);
            const total = subtotal + CONFIG.DELIVERY_FEE;

            msg += `\n--------------------------------\n游닍 *Subtotal:* ${formatMoney(subtotal)}\n`;
            msg += `游띳 *Entrega:* ${formatMoney(CONFIG.DELIVERY_FEE)}\n`;
            msg += `游눯 *TOTAL GERAL:* ${formatMoney(total)}\n--------------------------------\n\n`;
            msg += `游늸 *ENDERE칂O DE ENTREGA:*\n${street}, N췈 ${number}\n${complement}\n\n`;
            msg += `游눱 *FORMA DE PAGAMENTO:*\n${payment.value}`;

            const url = `https://wa.me/${CONFIG.PHONE_NUMBER}?text=${encodeURIComponent(msg)}`;
            window.open(url, '_blank');
        }

        window.onload = init;
    </script>
</body>
</html>
